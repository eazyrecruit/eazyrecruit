<ng-container *ngIf="gettingApplicant">
    <i *ngIf="gettingApplicant" class="fa fa-spinner fa-spin"></i>
</ng-container>
<ng-container *ngIf="!gettingApplicant">
    <section class="content content-wrapper">
        <div class="box box-info">
            <div class="box-header">
                <div class="row">
                    <div class="col-sm-5 mt-10">
                        <h3 class="box-title display-inline">{{job.title}}
                            <div data-toggle="modal" data-target="#infoModal"
                                 class="icon-circle-wrapper cursor pointer">
                                <i class="ti-info"></i>
                            </div>
                        </h3>
                    </div>
                    <div class="col-sm-7">
                        <div class="pull-right btn-sm">
                            <div class="form-inline">
                                <div class="btn-group form-group margin-right-10px" role="group"
                                     aria-label="Basic example">
                                    <button class="btn btn-sm btn-info" (click)="createApplicant(job._id)">Create
                                        Applicant
                                    </button>
                                    <button class="btn btn-sm btn-info" (click)="addApplicants()">Search Database
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="database" class="main-content padding-20px-tb plr-15">
                <div class="row">

                    <div class='col-lg-4'>
                        <div class="form-group">
                            <input [(ngModel)]="searchText" (keyup)="onSearch()" type="text" class="form-control"
                                   placeholder="Search Applicant">
                        </div>
                    </div>

                    <div class='col-lg-2'>
                        <div class="form-group">
                            <div id="filterDate1">
                                <!-- Datepicker as text field -->
                                <div class="input-group">
                                    <label> Start Date
                                        <input type="text" [(ngModel)]="startDate" [maxDate]="startMaxDate"
                                               [bsConfig]='bsConfig'
                                               (ngModelChange)="onDateChange($event, 'startDate')"
                                               class="form-control datepicker-date" placeholder="Datepicker"
                                               bsDatepicker>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='col-lg-2'>
                        <div class="form-group">
                            <div id="filterDate2">
                                <!-- Datepicker as text field -->
                                <div class="input-group">
                                    <label> End Date
                                        <input type="text" [(ngModel)]="endDate" [maxDate]="endMaxDate"
                                               [minDate]="endMinDate"
                                               [bsConfig]='bsConfig' (ngModelChange)="onDateChange($event,'endDate')"
                                               class="form-control datepicker-date" placeholder="Datepicker"
                                               bsDatepicker>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-1">
                        <select (change)="onSourceFilterChange($event.target.value)"
                                class="form-control ng-pristine ng-valid ng-touched">
                            <option [value]="">Source</option>
                            <option *ngFor="let source of sourceType"
                                    [selected]="source.toLocaleLowerCase()===filter.source"
                                    [value]="source.toLocaleLowerCase()">{{source}}</option>
                        </select>
                    </div>
                    <div class="col-lg-1">
                        <button class="btn" [ngClass]="[ isGridView ? 'btn': 'btn active']"
                                (click)="changeViewStatus(false)"><i
                                class="fa fa-bars"></i> List
                        </button>
                    </div>
                    <div class="col-lg-1">
                        <button [ngClass]="[ isGridView ? 'btn active': 'btn']" (click)="changeViewStatus(true)"><i
                                class="fa fa-th-large"></i> Grid
                        </button>
                    </div>
                </div>
                <ng-container *ngIf="gettingApplicant">
                    <i *ngIf="gettingApplicant" class="fa fa-spinner fa-spin"></i>
                </ng-container>
                <ng-container *ngIf="!gettingApplicant">
                    <ng-container *ngIf="isGridView">
                        <app-pipieline-grid (onChangeStatus)="changeStatus($event)"
                                            (getPipeLine)="updatePipeLine()"
                                            (changeFilter)="updateChildData($event)" [JobApplicants]="JobApplicants"
                                            [pipeLines]="pipeLines" [jobId]="jobId"></app-pipieline-grid>
                    </ng-container>
                    <ng-container *ngIf="!isGridView">

                        <app-pipieline-list (onChangeStatus)="changeStatus($event)" [filter]="filter"
                                            (changeFilter)="updateChildData($event)"
                                            [JobApplicants]="JobApplicants" [totalRecords]="totalRecords"
                                            [pipeLines]="pipeLines" [jobId]="jobId"></app-pipieline-list>
                    </ng-container>
                </ng-container>

            </div>

        </div>
    </section>
</ng-container>

